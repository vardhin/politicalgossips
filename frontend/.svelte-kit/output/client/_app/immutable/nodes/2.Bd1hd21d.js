import{t as p,a as u}from"../chunks/D7uXA1Ur.js";import{i as Me}from"../chunks/BUZb4uKt.js";import{m as Re,t as P,o as a,q as Ye,v as s,w as re,x as i,y as o,z as g,$ as Ge,A as t}from"../chunks/C6NBa0eJ.js";import{h as $e,e as pe,s as d,r as He}from"../chunks/Bh918-OH.js";import{i as b}from"../chunks/BHvfjOCM.js";import{N as je,e as me,i as ge}from"../chunks/CCdTLTpf.js";import{r as fe,P as ze,s as Be,a as k}from"../chunks/BGlFHzz6.js";import{b as le}from"../chunks/Bn_oBZ8q.js";import{o as Te}from"../chunks/HOlLVa_p.js";var We=p('<div class="error-message glass-card svelte-uxu2tw"><p> </p></div>'),Je=p('<div class="loading-container"><div class="loading-spinner"></div> <p>Loading featured articles...</p></div>'),Ke=p('<div class="empty-state glass-card svelte-uxu2tw"><p>No featured articles available at this time.</p></div>'),Oe=p('<div class="article-card glass-card svelte-uxu2tw"><img crossorigin="anonymous"> <div class="article-content"><div class="article-meta"><span class="category svelte-uxu2tw"> </span> <span class="date svelte-uxu2tw"> </span></div> <h3 class="svelte-uxu2tw"> </h3> <p class="svelte-uxu2tw"> </p> <a class="read-more svelte-uxu2tw">Read More</a></div></div>'),Qe=p('<div class="featured-grid"></div>'),Ve=p('<div class="error-message glass-card svelte-uxu2tw"><p> </p></div>'),Xe=p('<div class="loading-container"><div class="loading-spinner"></div> <p>Loading latest news...</p></div>'),Ze=p('<div class="empty-state glass-card svelte-uxu2tw"><p>No latest news available at this time.</p></div>'),ea=p('<div class="news-item glass-card svelte-uxu2tw"><div class="article-meta"><span class="category svelte-uxu2tw"> </span> <span class="date svelte-uxu2tw"> </span></div> <h3 class="svelte-uxu2tw"><a class="svelte-uxu2tw"> </a></h3></div>'),aa=p('<div class="news-list"></div>'),ta=p("<div> </div>"),sa=p(`<div class="container svelte-uxu2tw"><!> <main><section class="featured-section glass-panel svelte-uxu2tw"><h2 class="svelte-uxu2tw">Featured Articles</h2> <!></section> <section class="latest-news-section glass-panel svelte-uxu2tw"><h2 class="svelte-uxu2tw">Latest News</h2> <!></section> <section class="contact-section glass-panel svelte-uxu2tw"><h2 class="svelte-uxu2tw">Contact Us</h2> <div class="contact-content glass-card svelte-uxu2tw"><p>Have a tip or feedback? We'd love to hear from you.</p> <!> <form class="contact-form"><div class="form-group svelte-uxu2tw"><input type="text" placeholder="Your Name" required class="svelte-uxu2tw"></div> <div class="form-group svelte-uxu2tw"><input type="email" placeholder="Your Email" required class="svelte-uxu2tw"></div> <div class="form-group svelte-uxu2tw"><textarea placeholder="Your Message" rows="4" required class="svelte-uxu2tw"></textarea></div> <button type="submit" class="submit-btn svelte-uxu2tw"> </button></form></div></section></main> <footer class="glass-panel svelte-uxu2tw"><div class="copyright svelte-uxu2tw"> </div></footer></div>`);function pa(_e,we){Re(we,!1);const he=[{href:"/",label:"Home",active:!0},{href:"/category/general",label:"General",active:!1},{href:"/category/political",label:"Political",active:!1},{href:"/contact",label:"Contact",active:!1}];let U=g([]),q=g([]),S=g(!0),w=g(null),C=g(""),M=g(""),R=g(""),f=g(!1),A=g(null);const Y=ze;function ie(e){return e?e.normalize("NFD").replace(/[^\p{L}\p{N}]+/gu,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").toLowerCase():""}function xe(e){return console.log("Article ID:",e.articleId),console.log("Has image property:",!!e.image),console.log("Image property:",e.image),e}async function ye(){try{const e=await fetch(`${Y}/articles/featured`);if(!e.ok)throw new Error("Failed to fetch featured articles");return await e.json()}catch(e){return console.error("Error fetching featured articles:",e),o(w,e.message),[]}}async function be(){try{const e=await fetch(`${Y}/articles/latest?limit=4`);if(!e.ok)throw new Error("Failed to fetch latest articles");return await e.json()}catch(e){return console.error("Error fetching latest articles:",e),o(w,e.message),[]}}function Ae(e){if(!e)return"https://placehold.co/600x400/eee/aaa?text=News";if(e.articleId||e.id){const l=e.articleId||e.id;return`${Y}/image/${l}`}return console.warn("Article missing ID:",e),"https://placehold.co/600x400/eee/aaa?text=News"}async function Ie(e){if(e.preventDefault(),!a(f))try{o(f,!0),o(A,null),await new Promise(l=>setTimeout(l,1e3)),o(C,""),o(M,""),o(R,""),o(A,{success:!0,message:"Your message has been sent!"})}catch(l){console.error("Error submitting contact form:",l),o(A,{success:!1,message:"Failed to send message. Please try again."})}finally{o(f,!1)}}Te(async()=>{try{o(S,!0);const[e,l]=await Promise.all([ye(),be()]);console.log("Raw featured articles from API:",e),e.forEach(r=>{console.log(`Article ${r.articleId} has image:`,!!r.image)}),o(U,e.map(r=>xe({id:r.articleId,title:r.title,excerpt:r.summary,image:Ae(r),category:r.category,date:new Date(r.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}))),o(q,l.map(r=>({id:r.articleId,title:r.title,category:r.category,date:new Date(r.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})))}catch(e){console.error("Error loading data:",e),o(w,"Failed to load content. Please try again later.")}finally{o(S,!1)}}),Me();var G=sa();$e(e=>{Ge.title="Political Gossips - Latest Political News and Analysis"});var oe=s(G);je(oe,{brand:"Political Gossips",links:he,sticky:!0});var $=i(oe,2),H=s($),Ne=i(s(H),2);{var Pe=e=>{var l=We(),r=s(l),h=s(r,!0);t(r),t(l),P(()=>d(h,a(w))),u(e,l)},Le=(e,l)=>{{var r=v=>{var x=Je();u(v,x)},h=(v,x)=>{{var V=n=>{var m=Ke();u(n,m)},X=n=>{var m=Qe();me(m,5,()=>a(U),ge,(Z,c)=>{var y=Oe(),_=s(y),I=i(_,2),L=s(I),N=s(L),ee=s(N,!0);t(N);var D=i(N,2),E=s(D,!0);t(D),t(L);var F=i(L,2),ae=s(F,!0);t(F);var te=i(F,2),qe=s(te,!0);t(te);var Ce=i(te,2);t(I),t(y),P(se=>{k(_,"src",a(c).image),k(_,"alt",a(c).title),d(ee,a(c).category),d(E,a(c).date),d(ae,a(c).title),d(qe,a(c).excerpt),k(Ce,"href",se)},[()=>`/article?id=${a(c).id}&slug=${ie(a(c).title)}`],re),pe("error",_,se=>se.target.src="https://placehold.co/600x400/eee/aaa?text=News"),u(Z,y)}),t(m),u(n,m)};b(v,n=>{a(U).length===0?n(V):n(X,!1)},x)}};b(e,v=>{a(S)?v(r):v(h,!1)},l)}};b(Ne,e=>{a(w)?e(Pe):e(Le,!1)})}t(H);var j=i(H,2),De=i(s(j),2);{var Ee=e=>{var l=Ve(),r=s(l),h=s(r,!0);t(r),t(l),P(()=>d(h,a(w))),u(e,l)},Fe=(e,l)=>{{var r=v=>{var x=Xe();u(v,x)},h=(v,x)=>{{var V=n=>{var m=Ze();u(n,m)},X=n=>{var m=aa();me(m,5,()=>a(q),ge,(Z,c)=>{var y=ea(),_=s(y),I=s(_),L=s(I,!0);t(I);var N=i(I,2),ee=s(N,!0);t(N),t(_);var D=i(_,2),E=s(D),F=s(E,!0);t(E),t(D),t(y),P(ae=>{d(L,a(c).category),d(ee,a(c).date),k(E,"href",ae),d(F,a(c).title)},[()=>`/article?id=${a(c).id}&slug=${ie(a(c).title)}`],re),u(Z,y)}),t(m),u(n,m)};b(v,n=>{a(q).length===0?n(V):n(X,!1)},x)}};b(e,v=>{a(S)?v(r):v(h,!1)},l)}};b(De,e=>{a(w)?e(Ee):e(Fe,!1)})}t(j);var ce=i(j,2),ve=i(s(ce),2),ne=i(s(ve),2);{var Se=e=>{var l=ta(),r=s(l,!0);t(l),P(()=>{Be(l,1,`message-result ${a(A).success?"success":"error"}`,"svelte-uxu2tw"),d(r,a(A).message)}),u(e,l)};b(ne,e=>{a(A)&&e(Se)})}var z=i(ne,2),B=s(z),T=s(B);fe(T),t(B);var W=i(B,2),J=s(W);fe(J),t(W);var K=i(W,2),O=s(K);He(O),t(K);var Q=i(K,2),ke=s(Q,!0);t(Q),t(z),t(ve),t(ce),t($);var ue=i($,2),de=s(ue),Ue=s(de);t(de),t(ue),t(G),P(e=>{T.disabled=a(f),J.disabled=a(f),O.disabled=a(f),Q.disabled=a(f),d(ke,a(f)?"Sending...":"Send Message"),d(Ue,`Â© ${e??""} Political Gossips. All rights reserved.`)},[()=>new Date().getFullYear()],re),le(T,()=>a(C),e=>o(C,e)),le(J,()=>a(M),e=>o(M,e)),le(O,()=>a(R),e=>o(R,e)),pe("submit",z,Ie),u(_e,G),Ye()}export{pa as component};
