import{t as u,a as d}from"../chunks/D7uXA1Ur.js";import{i as Me}from"../chunks/BUZb4uKt.js";import{m as Re,t as P,o as t,q as Ye,v as s,w as re,x as i,y as v,z as g,$ as Ge,A as a}from"../chunks/C6NBa0eJ.js";import{h as $e,e as ue,s as m,r as He}from"../chunks/Bh918-OH.js";import{i as x}from"../chunks/BHvfjOCM.js";import{N as je,e as pe,i as ge}from"../chunks/B-33pn9r.js";import{r as fe,P as ze,s as Be,a as k}from"../chunks/BGlFHzz6.js";import{b as le}from"../chunks/Bn_oBZ8q.js";import{o as Te}from"../chunks/HOlLVa_p.js";var We=u('<div class="error-message glass-card svelte-myltiv"><p> </p></div>'),Je=u('<div class="loading-container svelte-myltiv"><div class="loading-spinner svelte-myltiv"></div> <p>Loading featured articles...</p></div>'),Ke=u('<div class="empty-state glass-card svelte-myltiv"><p>No featured articles available at this time.</p></div>'),Oe=u('<div class="article-card glass-card svelte-myltiv"><img crossorigin="anonymous" class="svelte-myltiv"> <div class="article-content svelte-myltiv"><div class="article-meta svelte-myltiv"><span class="category svelte-myltiv"> </span> <span class="date svelte-myltiv"> </span></div> <h3 class="svelte-myltiv"> </h3> <p class="svelte-myltiv"> </p> <a class="read-more svelte-myltiv">Read More</a></div></div>'),Qe=u('<div class="featured-grid svelte-myltiv"></div>'),Ve=u('<div class="error-message glass-card svelte-myltiv"><p> </p></div>'),Xe=u('<div class="loading-container svelte-myltiv"><div class="loading-spinner svelte-myltiv"></div> <p>Loading latest news...</p></div>'),Ze=u('<div class="empty-state glass-card svelte-myltiv"><p>No latest news available at this time.</p></div>'),et=u('<div class="news-item glass-card svelte-myltiv"><div class="article-meta svelte-myltiv"><span class="category svelte-myltiv"> </span> <span class="date svelte-myltiv"> </span></div> <h3 class="svelte-myltiv"><a class="svelte-myltiv"> </a></h3></div>'),tt=u('<div class="news-list svelte-myltiv"></div>'),at=u("<div> </div>"),st=u(`<div class="container svelte-myltiv"><!> <main><section class="featured-section glass-panel svelte-myltiv"><h2 class="svelte-myltiv">Featured Articles</h2> <!></section> <section class="latest-news-section glass-panel svelte-myltiv"><h2 class="svelte-myltiv">Latest News</h2> <!></section> <section class="contact-section glass-panel svelte-myltiv"><h2 class="svelte-myltiv">Contact Us</h2> <div class="contact-content glass-card svelte-myltiv"><p>Have a tip or feedback? We'd love to hear from you.</p> <!> <form class="contact-form svelte-myltiv"><div class="form-group svelte-myltiv"><input type="text" placeholder="Your Name" required class="svelte-myltiv"></div> <div class="form-group svelte-myltiv"><input type="email" placeholder="Your Email" required class="svelte-myltiv"></div> <div class="form-group svelte-myltiv"><textarea placeholder="Your Message" rows="4" required class="svelte-myltiv"></textarea></div> <button type="submit" class="submit-btn svelte-myltiv"> </button></form></div></section></main> <footer class="glass-panel svelte-myltiv"><div class="copyright svelte-myltiv"> </div></footer></div>`);function ut(ye,_e){Re(_e,!1);const he=[{href:"/",label:"Home",active:!0},{href:"/category/general",label:"General",active:!1},{href:"/category/political",label:"Political",active:!1},{href:"/contact",label:"Contact",active:!1}];let U=g([]),q=g([]),S=g(!0),_=g(null),C=g(""),M=g(""),R=g(""),f=g(!1),A=g(null);const Y=ze;function ie(e){return e?e.normalize("NFD").replace(/[^\p{L}\p{N}]+/gu,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").toLowerCase():""}function be(e){return console.log("Article ID:",e.articleId),console.log("Has image property:",!!e.image),console.log("Image property:",e.image),e}async function we(){try{const e=await fetch(`${Y}/articles/featured`);if(!e.ok)throw new Error("Failed to fetch featured articles");return await e.json()}catch(e){return console.error("Error fetching featured articles:",e),v(_,e.message),[]}}async function xe(){try{const e=await fetch(`${Y}/articles/latest?limit=4`);if(!e.ok)throw new Error("Failed to fetch latest articles");return await e.json()}catch(e){return console.error("Error fetching latest articles:",e),v(_,e.message),[]}}function Ae(e){if(!e)return"https://placehold.co/600x400/eee/aaa?text=News";if(e.articleId||e.id){const l=e.articleId||e.id;return`${Y}/image/${l}`}return console.warn("Article missing ID:",e),"https://placehold.co/600x400/eee/aaa?text=News"}async function Ie(e){if(e.preventDefault(),!t(f))try{v(f,!0),v(A,null),await new Promise(l=>setTimeout(l,1e3)),v(C,""),v(M,""),v(R,""),v(A,{success:!0,message:"Your message has been sent!"})}catch(l){console.error("Error submitting contact form:",l),v(A,{success:!1,message:"Failed to send message. Please try again."})}finally{v(f,!1)}}Te(async()=>{try{v(S,!0);const[e,l]=await Promise.all([we(),xe()]);console.log("Raw featured articles from API:",e),e.forEach(r=>{console.log(`Article ${r.articleId} has image:`,!!r.image)}),v(U,e.map(r=>be({id:r.articleId,title:r.title,excerpt:r.summary,image:Ae(r),category:r.category,date:new Date(r.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}))),v(q,l.map(r=>({id:r.articleId,title:r.title,category:r.category,date:new Date(r.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})))}catch(e){console.error("Error loading data:",e),v(_,"Failed to load content. Please try again later.")}finally{v(S,!1)}}),Me();var G=st();$e(e=>{Ge.title="Political Gossips - Latest Political News and Analysis"});var ve=s(G);je(ve,{brand:"Political Gossips",links:he,sticky:!0});var $=i(ve,2),H=s($),Ne=i(s(H),2);{var Pe=e=>{var l=We(),r=s(l),h=s(r,!0);a(r),a(l),P(()=>m(h,t(_))),d(e,l)},Le=(e,l)=>{{var r=c=>{var b=Je();d(c,b)},h=(c,b)=>{{var V=n=>{var p=Ke();d(n,p)},X=n=>{var p=Qe();pe(p,5,()=>t(U),ge,(Z,o)=>{var w=Oe(),y=s(w),I=i(y,2),L=s(I),N=s(L),ee=s(N,!0);a(N);var D=i(N,2),E=s(D,!0);a(D),a(L);var F=i(L,2),te=s(F,!0);a(F);var ae=i(F,2),qe=s(ae,!0);a(ae);var Ce=i(ae,2);a(I),a(w),P(se=>{k(y,"src",t(o).image),k(y,"alt",t(o).title),m(ee,t(o).category),m(E,t(o).date),m(te,t(o).title),m(qe,t(o).excerpt),k(Ce,"href",se)},[()=>`/article?id=${t(o).id}&slug=${ie(t(o).title)}`],re),ue("error",y,se=>se.target.src="https://placehold.co/600x400/eee/aaa?text=News"),d(Z,w)}),a(p),d(n,p)};x(c,n=>{t(U).length===0?n(V):n(X,!1)},b)}};x(e,c=>{t(S)?c(r):c(h,!1)},l)}};x(Ne,e=>{t(_)?e(Pe):e(Le,!1)})}a(H);var j=i(H,2),De=i(s(j),2);{var Ee=e=>{var l=Ve(),r=s(l),h=s(r,!0);a(r),a(l),P(()=>m(h,t(_))),d(e,l)},Fe=(e,l)=>{{var r=c=>{var b=Xe();d(c,b)},h=(c,b)=>{{var V=n=>{var p=Ze();d(n,p)},X=n=>{var p=tt();pe(p,5,()=>t(q),ge,(Z,o)=>{var w=et(),y=s(w),I=s(y),L=s(I,!0);a(I);var N=i(I,2),ee=s(N,!0);a(N),a(y);var D=i(y,2),E=s(D),F=s(E,!0);a(E),a(D),a(w),P(te=>{m(L,t(o).category),m(ee,t(o).date),k(E,"href",te),m(F,t(o).title)},[()=>`/article?id=${t(o).id}&slug=${ie(t(o).title)}`],re),d(Z,w)}),a(p),d(n,p)};x(c,n=>{t(q).length===0?n(V):n(X,!1)},b)}};x(e,c=>{t(S)?c(r):c(h,!1)},l)}};x(De,e=>{t(_)?e(Ee):e(Fe,!1)})}a(j);var oe=i(j,2),ce=i(s(oe),2),ne=i(s(ce),2);{var Se=e=>{var l=at(),r=s(l,!0);a(l),P(()=>{Be(l,1,`message-result ${t(A).success?"success":"error"}`,"svelte-myltiv"),m(r,t(A).message)}),d(e,l)};x(ne,e=>{t(A)&&e(Se)})}var z=i(ne,2),B=s(z),T=s(B);fe(T),a(B);var W=i(B,2),J=s(W);fe(J),a(W);var K=i(W,2),O=s(K);He(O),a(K);var Q=i(K,2),ke=s(Q,!0);a(Q),a(z),a(ce),a(oe),a($);var de=i($,2),me=s(de),Ue=s(me);a(me),a(de),a(G),P(e=>{T.disabled=t(f),J.disabled=t(f),O.disabled=t(f),Q.disabled=t(f),m(ke,t(f)?"Sending...":"Send Message"),m(Ue,`Â© ${e??""} Political Gossips. All rights reserved.`)},[()=>new Date().getFullYear()],re),le(T,()=>t(C),e=>v(C,e)),le(J,()=>t(M),e=>v(M,e)),le(O,()=>t(R),e=>v(R,e)),ue("submit",z,Ie),d(ye,G),Ye()}export{ut as component};
